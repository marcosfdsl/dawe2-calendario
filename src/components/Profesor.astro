---
export interface Props {
    id: string;
}

const { id } = Astro.props;
---

<div class="h-1/3 flex justify-between items-center px-6">
    <h3 id=`nombre${id}` class="font-bold"></h3>
    <div>
        <a class="mensaje hidden" href=`/mensaje`
            ><i
                class="fa-solid fa-envelope text-xl mx-2 hover:text-gray-800 active:text-gray-700"
            ></i></a
        >
        <a href=`/profesor`
            ><i
                class="fa-solid fa-user text-xl mx-2 hover:text-gray-800 active:text-gray-700"
            ></i></a
        >
    </div>
</div>

<script define:vars={{ id }}>
    fetch(`/api/v1/profesores/${id}`)
        .then((response) => response.json())
        .then((data) => {
            document.getElementById(`nombre${id}`).textContent = data.db.nombre;
        })
        .catch((error) => console.error("Error al obtener el dato:", error));

    if (localStorage.getItem("idUsuario")) {
        document.querySelector(".mensaje").classList.remove("hidden");
    }
</script>
